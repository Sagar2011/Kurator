<!-- nav bar for landing page -->

<div *ngIf="router.url=== '/'">
    <!-- <section *ngIf="show">
        <div class="flex-container" fxLayout="row wrap" fxLayoutAlign="space-between center">

            <p>We use cookies and other tracking technologies to improve your browsing experience on our application, to show you personalized content and experience, to analyze our website traffic, and to understand where our visitors are coming from. By
                browsing our website, you consent to our use of cookies and other tracking technologies.
            </p>
            <a mat-raised-button (click)="agree()">I Accept</a>
        </div>
    </section> -->
    <mat-toolbar color="primary" style="position: sticky;top:0;z-index: 100;">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <div>
                KURATOR
                <!-- <button (click)="flagDocument()">Hello</button> -->
            </div>
            <div>
                <a mat-raised-button class="login-button" (click)="openDialog()">LOGIN</a>
            </div>
        </mat-toolbar-row>
    </mat-toolbar>
    <router-outlet></router-outlet>
</div>
<!-- nav bar for dashboard and profile page -->
<div *ngIf="router.url === '/dashboard'||router.url ==='/profile'||router.url ==='/search'||router.url ==='/curation'||router.url ==='/playlist'||router.url ==='/followtopic'||router.url ==='/abusive'||router.url ==='/view'"
    class="flex">
    <mat-toolbar color="primary" style="position: sticky;top:0;z-index: 100;" *ngIf="currentWindowWidth >= 600">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="20px">
            <div fxLayout="row" fxLayoutAlign="space-around center">
                <mat-icon class="menubar" (click)="drawer.toggle()">menu</mat-icon>
                <div class="kuratorHeader">
                    <p (click)="onClickKurator()">KURATOR</p>
                </div>
            </div>
            <div fxFlex="40%">
                <app-search-header class="search-bar"></app-search-header>
            </div>
            <div>
                {{user.firstName}}
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"
                    [ngStyle]="{'background-image': userImage , 'background-size': 'cover', 'vertical-align' : 'bottom'}">
                    <!-- <div mat-card-avatar class="avatar">User</div> -->
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="profile()">
                        <mat-icon>account_circle</mat-icon>
                        <span>Profile</span>
                    </button>
                    <button mat-menu-item (click)="onLogout()">
                        <mat-icon>power_settings_new</mat-icon>
                        <span>Logout</span>
                    </button>
                </mat-menu>
            </div>
        </mat-toolbar-row>
    </mat-toolbar>

    <mat-toolbar fxLayout="row" fxLayoutAlign="space-between center" class="search-field" color="primary"
        style="position: sticky;top:0;z-index:100;" *ngIf="currentWindowWidth < 600">
        <div fxLayout="row" fxLayoutAlign="space-between center">
            <mat-icon class="menubar" (click)="drawer.toggle()">menu</mat-icon>
            <div>
                KURATOR
            </div>
        </div>

        <mat-icon (click)="onSearch()">search</mat-icon>

        <div>
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"
                [ngStyle]="{'background-image': userImage , 'background-size': 'cover'}">
                <!-- <div mat-card-avatar class="avatar">User</div> -->
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="profile()">
                    <mat-icon>account_circle</mat-icon>
                    <span>Profile</span>
                </button>
                <button mat-menu-item (click)="onLogout()">
                    <mat-icon>power_settings_new</mat-icon>
                    <span>Logout</span>
                </button>
            </mat-menu>
        </div>
    </mat-toolbar>

    <div *ngIf="forSearch">
        <app-search-header class="search-bar"></app-search-header>
    </div>

    <mat-drawer-container class="container">
        <mat-drawer #drawer class="sidenav" mode="over" hasBackdrop="false">
            <mat-nav-list>
                <a mat-list-item aria-label="Example icon-button with a menu"
                    [ngStyle]="{'background-image': userImage , 'background-size': 'cover', 'vertical-align' : 'bottom' , 'height':'200px'}">

                </a>

                <a mat-list-item (click)="[drawer.toggle(), onDashboard() ]">
                    <mat-icon>dashboard</mat-icon> Dashboard
                </a>
                <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle(),onMyCuration() ]">
                    <mat-icon>settings_applications
                    </mat-icon>Manage Curations
                </a>
                <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle(), onPlaylist()]">
                    <mat-icon>playlist_play</mat-icon> Manage Playlist
                </a>
                <!-- <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle()]">
                    <mat-icon>settings_applications</mat-icon> Manage Intent
                </a>
                <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle()]">
                    <mat-icon>settings_applications</mat-icon> Track User Activity
                </a> -->
            </mat-nav-list>
        </mat-drawer>

        <router-outlet></router-outlet>
    </mat-drawer-container>

</div>
<!-- navbar for admin-->

<div *ngIf="router.url === '/admin'|| router.url === '/admin/intent' ||  router.url === '/admin/editintent' ||  router.url === '/admin/addintent' || router.url ==='/admin/ontology' || router.url ==='/admin/termcard' ||  router.url ==='/admin/admindashboard' || router.url ==='/admin/trackUserDetails' || router.url ==='/admin/document' "
    class="flex">
    <mat-toolbar color="primary" style="position: sticky;top:0;z-index: 100;" *ngIf="currentWindowWidth >= 600">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <div fxLayout="row" fxLayoutAlign="space-between center">
                <mat-icon class="menubar" (click)="drawer.toggle()">menu</mat-icon>
                <div class="kuratorHeader">
                    KURATOR
                </div>
            </div>

            <app-search-header class="search-bar"></app-search-header>

            <div>
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"
                    [ngStyle]="{'background-image': userImage , 'background-size': 'cover'}">
                    <!-- <div mat-card-avatar class="avatar">User</div> -->
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item>
                        <mat-icon>account_circle</mat-icon>
                        <span (click)="profile()">Profile</span>
                    </button>
                    <button mat-menu-item>
                        <mat-icon>power_settings_new</mat-icon>
                        <span (click)="onLogout()">Logout</span>
                    </button>
                </mat-menu>
            </div>
        </mat-toolbar-row>
    </mat-toolbar>

    <mat-toolbar fxLayout="row" fxLayoutAlign="space-between center" class="search-field" color="primary"
        style="position: sticky;top:0;z-index:100;" *ngIf="currentWindowWidth < 600">
        <div fxLayout="row" fxLayoutAlign="space-between center">
            <mat-icon class="menubar" (click)="drawer.toggle()">menu</mat-icon>
            <div>
                KURATOR
            </div>
        </div>

        <mat-icon (click)="onSearch()">search</mat-icon>

        <div>
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"
                [ngStyle]="{'background-image': userImage , 'background-size': 'cover'}">
                <!-- <div mat-card-avatar class="avatar">User</div> -->
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item>
                    <mat-icon>account_circle</mat-icon>
                    <span (click)="profile()">Profile</span>
                </button>
                <button mat-menu-item>
                    <mat-icon>power_settings_new</mat-icon>
                    <span (click)="onLogout()">Logout</span>
                </button>
            </mat-menu>
        </div>
    </mat-toolbar>

    <div *ngIf="forSearch">
        <app-search-header class="search-bar"></app-search-header>
    </div>

    <mat-drawer-container class="container">
        <mat-drawer #drawer class="sidenav" mode="over" hasBackdrop="false">
            <mat-nav-list>
                <a mat-list-item aria-label="Example icon-button with a menu"
                    [ngStyle]="{'background-image': userImage , 'background-size': 'cover', 'vertical-align' : 'bottom' , 'height':'200px'}">

                </a>
                <a mat-list-item (click)="[drawer.toggle(), onManageOntology()]">
                    <mat-icon>device_hub</mat-icon> Manage Ontology
                </a>
                <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle(), trackingUserDetail()]">
                    <mat-icon>timeline</mat-icon> Track User Activity
                </a>
                <mat-divider></mat-divider>
                <a mat-list-item (click)="[drawer.toggle(), onManageDocument()]">
                    <mat-icon>collections_bookmark</mat-icon> Manage Document
                </a>
            </mat-nav-list>
        </mat-drawer>

        <router-outlet></router-outlet>
    </mat-drawer-container>

</div>